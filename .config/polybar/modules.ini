[settings]
; Reload upon receiving XCB_RANDR_SCREEN_CHANGE_NOTIFY events
screenchange-reload = true

; Compositing operators
; @see: https://www.cairographics.org/manual/cairo-cairo-t.html#cairo-operator-t
compositing-background = source
compositing-foreground = over
compositing-overline = over
compositing-underline = over

; Enables pseudo-transparency for the bar
; If set to true the bar can be transparent without a compositor.
pseudo-transparency = true

[module/lastfm]
type = custom/script
exec = last.sh
interval = 300
format-prefix = " "
format = <label>
format-foreground = ${colors.foreground-alt}

[module/memory]
type = internal/memory
interval = 5
format = <label>
label = " %gb_used%"
format-foreground = ${colors.foreground-alt}

[module/cpu]
type = internal/cpu
interval = 5
format = <label>
label = "﬙ %percentage%%"
format-foreground = ${colors.foreground-alt}

[module/wlan]
type = internal/network
interface = ${env:NETWORK_INTERFACE:wlp61s0}

interval = 5
accumulate-stats = true
unknown-as-up = true

format-connected = <ramp-signal><label-connected>
format-connected-foreground = ${colors.foreground-alt}
format-disconnected = <label-disconnected>
format-disconnected-foreground = ${colors.foreground-alt}

label-connected = "%{A1:nm-connection-editor &:} %essid%%{A}"
label-disconnected = "%{A1:nm-connection-editor &:} %{A}"

ramp-signal-0 = 直
ramp-signal-1 = 直
ramp-signal-2 = 直
ramp-signal-3 = 直
ramp-signal-4 = 直

[module/window]
type = internal/xwindow
format = <label>
label = "%title%"
label-maxlen = 75
format-foreground = ${colors.dim}

[module/backlight]
type = internal/xbacklight
format = <label>
label = "盛 %percentage%%"

[module/date]
type = internal/date
interval = 1
date =
date-alt = " %a %d %b "
time = "%H:%M"
time-alt = " %H:%M:%S"
label = "%date%%time%"

[module/audio]
type = internal/pulseaudio
sink = alsa_output.pci-0000_00_1b.0.analog-stereo
use-ui-max = true
interval = 5
format-volume = <ramp-volume> <label-volume>
label-volume = "%percentage%"
label-muted = "  "
ramp-volume-0 = " "
ramp-volume-1 = " "
ramp-volume-2 = " "
ramp-volume-3 = " "
format-volume-foreground = ${colors.foreground-alt}

[module/battery]
type = internal/battery
battery = BAT0
adapter = ADP1
full-at = 95

format-charging = <label-charging>
format-full = <label-full>
format-discharging = <label-discharging>

label-charging = " %percentage%%"
label-discharging =" %percentage%%"
label-full = " %percentage%%"

[module/powermenu]
type = custom/menu
expand-right = true

format-spacing = 1

label-open = "⏻ "
label-open-foreground = ${colors.foreground-alt}

label-close = "Cancel"
label-close-foreground = #306998

label-separator = /
label-separator-foreground = ${colors.dim}

menu-0-0 = "Reboot"
menu-0-0-exec = menu-open-1
menu-0-1 = "Shutdown"
menu-0-1-exec = menu-open-2
menu-0-2 = "Log out"
menu-0-2-exec = menu-open-3
menu-0-3 = "Sleep"
menu-0-3-exec = menu-open-4

menu-1-0 = "Reboot"
menu-1-0-foreground = #BF616A
menu-1-0-exec = sudo reboot
#menu-1-1 = "Cancel"
#menu-1-1-exec = menu-open-0

menu-2-0 = "Shutdown"
menu-2-0-foreground = #BF616A
menu-2-0-exec = sudo poweroff
#menu-2-1 = "Cancel"
#menu-2-1-exec = menu-open-0

menu-3-0 = "Log out"
menu-3-0-foreground = #BF616A
menu-3-0-exec = i3-msg exit
#menu-3-1 = "Cancel"
#menu-3-1-exec = menu-open-0

menu-4-0 = "Sleep"
menu-4-0-foreground = #BF616A
menu-4-0-exec = systemctl suspend
#menu-4-1 = "Cancel"
#menu-4-1-exec = menu-open-0
