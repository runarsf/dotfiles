#!/usr/bin/env bash

# TODO: When a floating window exists, pressing win+up until you reach the top node should focus it

# west, south, north, east
motion="${1}"

#layout="$(bspc query -T -d | jq --raw-output '.layout')"
bspc query -T -d | grep '"layout":"monocle"' \
  && layout="monocle"

case "${layout}:${motion}" in
  monocle:north) bspc node --focus next.local.\!hidden.window;;
  monocle:south) bspc node --focus prev.local.\!hidden.window;;
  *) bspc node --focus "${motion}" || bspc monitor --focus "${motion}";;
esac
