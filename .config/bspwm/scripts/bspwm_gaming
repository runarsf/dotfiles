#!/usr/bin/env bash
#bspc query --names --desktops
#bspc monitor --add-desktops cum
#xrandr | grep " connected primary  "

# Hide Games ws if ampty

#GAMES_WS="Games"
#if [[ ! "$(bspc query --names --desktops)" =~ .*"^${GAMES_WS}\$".* ]]; then
#  bspc monitor --add-desktops "${GAMES_WS}"
#fi
#
#exit
#https://www.reddit.com/r/bspwm/comments/5vsfa5/get_a_list_of_windows_on_a_desktop/


mygames=$(ls "${HOME}/.local/share/Steam/steamapps" | grep appmanifest | sed 's/[^0-9]*//g')
# path to your steamlibrary
#steamlib="${HOME}/.local/share/Steam"
# this sed command removes everything but the digits
#mygames=$(ls ${steamlib}/steamapps/appmanifest_*.acf | sed 's/[^0-9]*//g')

for game in ${mygames}; do
  bspc rule -a steam_app_${game} desktop=^9 state=fullscreen follow=on
done
