#!/bin/sh
did="$(bspc query -D -n focused --names)"
layout="$(bsp-layout get ${did})"

blayout="$(bspc query -T -d | jq --raw-output '.layout')"
test "${layout}" = "-" -o "${blayout}" = "monocle" && layout="${blayout}"

case "${layout}" in
  tall)       printf "[]="  ;;
  rtall)      printf "=[]"  ;;
  wide)       printf "TTT"  ;;
  rwide)      printf "LLL"  ;;
  tile|tiled) printf "[]-"  ;;
  grid)       printf "|-|-|";;
  rgrid)      printf "-|-|-";;
  even)       printf "[][]" ;;
  monocle)    printf "[M]"  ;;
  -|*)        printf "[?]"  ;;
esac
